<mxfile host="Electron" modified="2024-06-17T19:35:25.892Z" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.5.3 Chrome/124.0.6367.207 Electron/30.0.6 Safari/537.36" etag="xLmjk-7D3z55HYccR4aR" version="24.5.3" type="device">
  <diagram name="Page-1" id="ggSMP1JoKQovZguKXl3D">
    <mxGraphModel dx="1434" dy="818" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="98j4bOGvcd0N3YnuUDQp-73" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=0.983;exitY=0.984;exitDx=0;exitDy=0;exitPerimeter=0;strokeWidth=3;fillColor=#647687;strokeColor=#314354;" parent="1" source="98j4bOGvcd0N3YnuUDQp-74" target="98j4bOGvcd0N3YnuUDQp-57" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3220" y="1995.9200000000003" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-182" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="403.53999999999996" y="1460" width="1199.72" height="1080" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-349" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1350" y="1330" width="325" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BmIA7eFD9GzglaFPHy65-6" value="SUBIR UNA FOTO&lt;div&gt;1. Auth&lt;/div&gt;&lt;div&gt;2. post a /images/upload con la foto y la info del user&lt;/div&gt;&lt;div&gt;3. &quot;Images&quot; manda la imagen a UploadQueue&lt;/div&gt;&lt;div&gt;4. &quot;ProcessImage&quot; toma la imagen de la queue y verifica&lt;/div&gt;&lt;div&gt;que no sea contenido NSFW y si es asi lo comprime, lo guarda&lt;/div&gt;&lt;div&gt;al S3 y notifica que se subio correctamente a &quot;Images&quot;&lt;/div&gt;&lt;div&gt;(ver como hacer esto ultimo, puede ser asincrono para que el servicio&lt;/div&gt;&lt;div&gt;pueda seguir recibiendo otras request)&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2150" y="1970" width="390" height="140" as="geometry" />
        </mxCell>
        <mxCell id="BmIA7eFD9GzglaFPHy65-7" value="VER FOTO del TOP 10&lt;div&gt;1. Auth&lt;/div&gt;&lt;div&gt;2. get a /images/top&lt;/div&gt;&lt;div&gt;3. &quot;Images&quot; solicita a &quot;TopVotes&quot; las 10&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;imagenes mas&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;votadas&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;junto con sus votos&lt;/span&gt;&lt;/div&gt;&lt;div&gt;4. &quot;TopVotes&quot; consulta en el cache y si no estan los busca en la&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;BDD y los escribe en cache antes de retornarlos&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;5. &quot;Images&quot; usa los nombres recibidos para obtener las&lt;/span&gt;&lt;/div&gt;&lt;div&gt;imagenes de cache o del bucket S3, para luego escribirlas en cache.&lt;/div&gt;&lt;div&gt;finalmente las retorna al&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;cliente en conjunto con sus votos, usuario, etc&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2150" y="1778.66" width="400" height="160" as="geometry" />
        </mxCell>
        <mxCell id="BmIA7eFD9GzglaFPHy65-12" value="ELIMINAR FOTO&lt;div&gt;1. Auth&lt;/div&gt;&lt;div&gt;2. delete a images/delete&lt;/div&gt;&lt;div&gt;3. &quot;ImagesManager&quot; elimina del S3 y de REDIS la imagen llamada:&lt;/div&gt;&lt;div&gt;daily / {yyyy} / {mm} / {dd} / {username}.jpg&lt;/div&gt;&lt;div&gt;4. &quot;ImagesManager&quot; retorna que la imagen fue eliminada correctamente&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2150" y="2350" width="410" height="100" as="geometry" />
        </mxCell>
        <mxCell id="BmIA7eFD9GzglaFPHy65-13" value="ACCIONES DE FINAL DE DIA&lt;div&gt;&lt;div&gt;1. Lambda a las 00:00 mediante un POST a un webhook informa al&amp;nbsp;&lt;/div&gt;&lt;div&gt;API Gateway&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;que todas las request las redirecciones a un fornt estatico&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;que dice&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&quot;Procesando los votos de hoy, la web estara disponible&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;proximamente&quot;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;2. Lambda obtiene (despues de un timeout de 10 seg para borrar el cache)&amp;nbsp;&lt;/div&gt;&lt;div&gt;de &quot;TopVotes&quot; las 10 imagenes mas votadas y las renombra (o copia y pega)&lt;/div&gt;&lt;div&gt;bajo el prefijo:&amp;nbsp;&lt;span style=&quot;text-align: center; background-color: initial;&quot;&gt;top / {yyyy} / {mm} / {dd} / topx-votes-username.jpg&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-align: center; background-color: initial;&quot;&gt;3. Lambda mediante &quot;Instagram API&quot; y el S3 sube la imagen mas votada&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-align: center; background-color: initial;&quot;&gt;4. Lambda elimina todas las imagenes con el prefijo &quot;daily/**&quot; en el S3&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-align: center; background-color: initial;&quot;&gt;5. Lambda informa a TopVotes y a Votes que el proceso fue exitoso y que&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-align: center; background-color: initial;&quot;&gt;borren&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial; text-align: center;&quot;&gt;toda la base de datos y vacien la queue&lt;/span&gt;&lt;/div&gt;&lt;div&gt;6. Luego de que todo fue correctamente borrado informa al API gateway que&amp;nbsp;&lt;/div&gt;&lt;div&gt;la APP ya esta lista para recibir request&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;otra vez y comienza un nuevo dia de&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Image War.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2150" y="2475" width="430" height="240" as="geometry" />
        </mxCell>
        <mxCell id="BmIA7eFD9GzglaFPHy65-14" value="VOTAR IMAGEN&lt;div&gt;1. Auth&lt;/div&gt;&lt;div&gt;2. put a /votes/vote con el usuario de la imagen a votar&lt;/div&gt;&lt;div&gt;3. &quot;Votes&quot; verifica que no exista un registro&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;en el cache &quot;VotesTimeOut&quot;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;a nombre del usuario que&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;quiere hacer el voto, si es asi retorna cuanto&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;le queda&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;para poder volver a votar&lt;/span&gt;&lt;/div&gt;&lt;div&gt;4. Una vez que se verifico que puede votar, se escribe el voto&lt;/div&gt;&lt;div&gt;en la DB y se envia un evento con el nuevo voto a VotesQueue, luego&amp;nbsp;&lt;/div&gt;&lt;div&gt;se almacena la informacion actualizada del nuevo voto en cache, para&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;finalmente retornar que el voto se registro con exito&lt;/span&gt;&lt;/div&gt;&lt;div&gt;5. &quot;TopVotes&quot; extrae de la queue el voto y lo inserta en la BDD&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2150" y="2140" width="410" height="190" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-183" value="" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=#006EAF;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#1ba1e2;shape=mxgraph.mscae.enterprise.workstation_client;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="210.27999999999997" y="2004" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-185" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-244" target="07_yBgt8VmV_d8LY8eXb-217" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-187" value="API Gateway" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="374.24" y="2080" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-188" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-183" target="07_yBgt8VmV_d8LY8eXb-244" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-189" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-205" target="07_yBgt8VmV_d8LY8eXb-211" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="947.28" y="1705" as="targetPoint" />
            <mxPoint x="858.8523076923077" y="1680" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-190" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-219" target="07_yBgt8VmV_d8LY8eXb-205" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="775.5600000000002" y="1730" as="targetPoint" />
            <mxPoint x="775.56" y="1800" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-191" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.bucket;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="1463.61" y="1820" width="48.08" height="50" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-339" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=12 12;" parent="1" source="07_yBgt8VmV_d8LY8eXb-192" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1565.8" y="1390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-192" value="S3" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1467.12" y="1840" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-193" value="DailyVotesDB" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1198.53" y="2035" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-194" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.004;entryY=0.48;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;endArrow=none;endFill=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-217" target="07_yBgt8VmV_d8LY8eXb-204" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="907.28" y="2100" as="targetPoint" />
            <mxPoint x="862.28" y="2055.3648411134905" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-196" value="Client" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="225.27999999999997" y="2080" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-197" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-211" target="07_yBgt8VmV_d8LY8eXb-191" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1056.72" y="1705" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1488" y="1580" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-198" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="07_yBgt8VmV_d8LY8eXb-219" target="07_yBgt8VmV_d8LY8eXb-217" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="775.3727272727272" y="1991" as="sourcePoint" />
            <mxPoint x="775.22" y="2021" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-199" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="07_yBgt8VmV_d8LY8eXb-244" target="07_yBgt8VmV_d8LY8eXb-219" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="680.28" y="1955" as="targetPoint" />
            <mxPoint x="300.28" y="2110" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-200" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-219" target="07_yBgt8VmV_d8LY8eXb-191" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1100" y="1845" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-203" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.067;entryY=0.542;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-204" target="07_yBgt8VmV_d8LY8eXb-206" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1077.28" y="2058" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-205" value="" style="points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;perimeter=rectanglePerimeter;gradientColor=none;fillStyle=auto;labelPadding=0;" parent="1" vertex="1">
          <mxGeometry x="750.28" y="1555" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-206" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/databases/Azure_Database_PostgreSQL_Server.svg;" parent="1" vertex="1">
          <mxGeometry x="1229.78" y="1981" width="37.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-209" value="LoginOAuth" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=1;fontSize=12;labelPosition=center;verticalLabelPosition=middle;align=center;" parent="1" vertex="1">
          <mxGeometry x="421.38" y="2254.77" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-210" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Docker.svg;clipPath=inset(0% 0% 28.57% 0%);" parent="1" vertex="1">
          <mxGeometry x="492.48" y="2302.0899999999997" width="37.8" height="22.679999999999996" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-211" value="ProcessImage" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=1;fontSize=12;labelPosition=center;verticalLabelPosition=middle;align=center;" parent="1" vertex="1">
          <mxGeometry x="1194.22" y="1545" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-212" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Docker.svg;clipPath=inset(0% 0% 28.57% 0%);" parent="1" vertex="1">
          <mxGeometry x="1267.9700000000003" y="1592.32" width="37.8" height="22.679999999999996" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-213" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fillColor=#647687;strokeColor=#314354;" parent="1" source="07_yBgt8VmV_d8LY8eXb-230" target="07_yBgt8VmV_d8LY8eXb-214" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="775.590344827586" y="2238" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-214" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://i.pinimg.com/736x/24/37/73/2437730f7e3a5705e205e67fa2cd1020.jpg;clipPath=inset(0% 15.33% 0% 15.33% round 49%);" parent="1" vertex="1">
          <mxGeometry x="488.4900000000001" y="1353.8999999999999" width="65.78" height="66.1" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-215" value="Instagram API" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="471.38" y="1323.9" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-216" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;endFill=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-217" target="07_yBgt8VmV_d8LY8eXb-406" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="775.5061538461537" y="2150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YyMMzRwWE6KUuYZapjVW-213" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="1" source="07_yBgt8VmV_d8LY8eXb-217" target="07_yBgt8VmV_d8LY8eXb-232" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-217" value="Votes" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=1;fontSize=12;labelPosition=center;verticalLabelPosition=middle;align=center;" parent="1" vertex="1">
          <mxGeometry x="720.28" y="2010" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-218" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Docker.svg;clipPath=inset(0% 0% 28.57% 0%);" parent="1" vertex="1">
          <mxGeometry x="792.48" y="2057.3199999999997" width="37.8" height="22.679999999999996" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;startArrow=classic;startFill=1;curved=1;endArrow=none;endFill=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-219" target="07_yBgt8VmV_d8LY8eXb-232" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="748" y="1980" />
              <mxPoint x="748" y="1980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-219" value="Images" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=1;fontSize=12;labelPosition=center;verticalLabelPosition=middle;align=center;" parent="1" vertex="1">
          <mxGeometry x="720.28" y="1815" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-220" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Docker.svg;clipPath=inset(0% 0% 28.57% 0%);" parent="1" vertex="1">
          <mxGeometry x="792.4799999999998" y="1862.32" width="37.8" height="22.679999999999996" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-221" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://images.ctfassets.net/o7xu9whrs0u9/3uG091zmEoX1cjHjQbPocD/ff3ec81b68d2c338fee0384c8ee37ca2/zipkin-logo.jpg;clipPath=inset(21.67% 28.33% 35.33% 29.67% round 49%);" parent="1" vertex="1">
          <mxGeometry x="403.5400000000001" y="2432.27" width="60.7" height="62.15" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-222" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://dvoconsult.com/wp-content/uploads/2019/05/kubernetes-1024x536.jpg;clipPath=inset(9.24% 26.33% 3.5% 25.67% round 44%);" parent="1" vertex="1">
          <mxGeometry x="453.74" y="2480" width="63.07" height="60" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-223" value="&lt;div&gt;VotesCountRedis&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="987.2799999999999" y="2027.3199999999997" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-224" value="ImagesRedis" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1006.16" y="1743.0000000000002" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-226" value="&lt;div&gt;VotesTimeOutRedis&lt;/div&gt;&lt;div&gt;(10min duration)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="870" y="2198.55" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-228" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.031;entryY=0.504;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-218" target="07_yBgt8VmV_d8LY8eXb-225" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-17" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;strokeWidth=3;edgeStyle=orthogonalEdgeStyle;fillColor=#647687;strokeColor=#314354;" parent="1" source="07_yBgt8VmV_d8LY8eXb-230" target="07_yBgt8VmV_d8LY8eXb-219" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-48" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=0.983;exitY=0.984;exitDx=0;exitDy=0;exitPerimeter=0;strokeWidth=3;fillColor=#647687;strokeColor=#314354;" parent="1" source="07_yBgt8VmV_d8LY8eXb-230" target="07_yBgt8VmV_d8LY8eXb-217" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-230" value="AWS Lambda" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#ffffff;fillColor=#232F3E;dashed=0;verticalLabelPosition=middle;verticalAlign=bottom;align=center;html=1;whiteSpace=wrap;fontSize=10;fontStyle=1;spacing=3;shape=mxgraph.aws4.productIcon;prIcon=mxgraph.aws4.lambda;" parent="1" vertex="1">
          <mxGeometry x="481.38" y="1781.55" width="80" height="100" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-231" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;endArrow=none;endFill=0;entryX=0.009;entryY=0.607;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-232" target="07_yBgt8VmV_d8LY8eXb-237" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-232" value="Users" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=1;fontSize=12;labelPosition=center;verticalLabelPosition=middle;align=center;" parent="1" vertex="1">
          <mxGeometry x="720.28" y="2254.27" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-233" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/databases/Azure_Database_PostgreSQL_Server.svg;" parent="1" vertex="1">
          <mxGeometry x="1231.25" y="2404.73" width="37.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-236" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1.001;exitY=0.621;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-237" target="07_yBgt8VmV_d8LY8eXb-233" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-238" value="UsersCache" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1002.28" y="2446.73" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-240" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Docker.svg;clipPath=inset(0% 0% 28.57% 0%);" parent="1" vertex="1">
          <mxGeometry x="792.76" y="2297.3199999999997" width="37.8" height="22.679999999999996" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-241" value="UploadQueue" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="720.28" y="1525" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="YyMMzRwWE6KUuYZapjVW-217" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-244" target="07_yBgt8VmV_d8LY8eXb-209" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-37" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.855;exitY=0.855;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-244" target="07_yBgt8VmV_d8LY8eXb-232" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-244" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.customer_gateway;fillColor=#F58536;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="384.74" y="2008" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-246" value="UsersDB&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1215" y="2450.73" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-340" value="daily / {yyyy} / {mm} / {dd} / username.jpg" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1390" y="1360" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-341" value="top / {yyyy} / {mm} / {dd} / topx-votes-username.jpg" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1365" y="1330" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-347" value="file prefixes" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=default;" parent="1" vertex="1">
          <mxGeometry x="1530.0000000000002" y="1420" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-348" value="Utilizando prefijos para almacenar los mas votados de dias anteriores&lt;div&gt;no es necesario almacenar su metadata en una BDD&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1310" y="1280" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-359" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;1&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=default;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1016.81" y="1673" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-363" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;1&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=default;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1013.9" y="1960.0000000000002" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-365" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#007FFF;startArrow=classic;startFill=1;endArrow=classic;endFill=1;" parent="1" source="07_yBgt8VmV_d8LY8eXb-366" target="07_yBgt8VmV_d8LY8eXb-369" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1803.08" y="1795.5499999999995" />
              <mxPoint x="1803.08" y="1795.5499999999995" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-366" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Cache_Redis_Product.svg;" parent="1" vertex="1">
          <mxGeometry x="1823.08" y="1774.5499999999995" width="60" height="50.4" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-367" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;strokeColor=#00FF00;exitX=0.97;exitY=0.276;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-369" target="07_yBgt8VmV_d8LY8eXb-370" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1743.08" y="1780.5499999999995" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1741.08" y="1781.5499999999995" />
              <mxPoint x="1763.08" y="1781.5499999999995" />
              <mxPoint x="1763.08" y="1740.5499999999995" />
              <mxPoint x="1933.08" y="1740.5499999999995" />
              <mxPoint x="1933.08" y="1783.5499999999995" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-368" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#007FFF;startArrow=classic;startFill=1;" parent="1" source="07_yBgt8VmV_d8LY8eXb-369" target="07_yBgt8VmV_d8LY8eXb-370" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1723.08" y="1840.5499999999995" />
              <mxPoint x="1978.08" y="1840.5499999999995" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-370" value="" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn2.iconfinder.com/data/icons/whcompare-isometric-web-hosting-servers/50/database-128.png" parent="1" vertex="1">
          <mxGeometry x="1953.08" y="1770.5499999999995" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-371" value="&lt;b&gt;WRITE&lt;/b&gt; in DB" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#009900;" parent="1" vertex="1">
          <mxGeometry x="1803.08" y="1710.5499999999995" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-372" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.029;entryY=0.733;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#007FFF;" parent="1" source="07_yBgt8VmV_d8LY8eXb-369" target="07_yBgt8VmV_d8LY8eXb-366" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1763.08" y="1811.5499999999995" />
              <mxPoint x="1763.08" y="1811.5499999999995" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-373" value="&lt;div&gt;&lt;b&gt;READ&lt;/b&gt; from cache, if is not there, read from DB &lt;br&gt;&lt;/div&gt;&lt;div&gt;and write it in cache&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1718.08" y="1840.5499999999995" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-374" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#00994D;" parent="1" vertex="1">
          <mxGeometry x="1908.08" y="1740.5499999999995" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-375" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#0066CC;" parent="1" vertex="1">
          <mxGeometry x="1788.08" y="1770.5499999999995" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-376" value="2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#0066CC;" parent="1" vertex="1">
          <mxGeometry x="1923.08" y="1816.5499999999995" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-377" value="3" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1788.08" y="1806.5499999999995" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-369" value="" style="image;points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;image=img/lib/allied_telesis/computer_and_terminals/Server_Desktop.svg;" parent="1" vertex="1">
          <mxGeometry x="1703.08" y="1770.5499999999995" width="39.44" height="50" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-381" value="Cache Strategies" style="swimlane;whiteSpace=wrap;html=1;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1658.08" y="1680" width="390" height="380" as="geometry">
            <mxRectangle x="1720" y="1678" width="140" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-357" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;1&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=default;fillColor=none;strokeWidth=2;" parent="07_yBgt8VmV_d8LY8eXb-381" vertex="1">
          <mxGeometry x="9.999999999999915" y="32" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-358" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;2&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=default;fillColor=none;strokeWidth=2;" parent="07_yBgt8VmV_d8LY8eXb-381" vertex="1">
          <mxGeometry x="10" y="220.00000000000023" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-382" value="" style="endArrow=none;html=1;rounded=0;curved=1;strokeWidth=2;" parent="07_yBgt8VmV_d8LY8eXb-381" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="210" as="sourcePoint" />
            <mxPoint x="390" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-312" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#007FFF;startArrow=classic;startFill=1;endArrow=classic;endFill=1;" parent="07_yBgt8VmV_d8LY8eXb-381" source="07_yBgt8VmV_d8LY8eXb-313" target="07_yBgt8VmV_d8LY8eXb-316" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-316" value="" style="image;points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;image=img/lib/allied_telesis/computer_and_terminals/Server_Desktop.svg;" parent="07_yBgt8VmV_d8LY8eXb-381" vertex="1">
          <mxGeometry x="41.539999999999964" y="290.4000000000001" width="39.44" height="50" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-313" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Cache_Redis_Product.svg;" parent="07_yBgt8VmV_d8LY8eXb-381" vertex="1">
          <mxGeometry x="288.4600000000001" y="290.0000000000001" width="60" height="50.4" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-324" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#0066CC;" parent="07_yBgt8VmV_d8LY8eXb-381" vertex="1">
          <mxGeometry x="176.54" y="290.4000000000001" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="07_yBgt8VmV_d8LY8eXb-201" target="98j4bOGvcd0N3YnuUDQp-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-201" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Cache_Redis_Product.svg;" parent="1" vertex="1">
          <mxGeometry x="1026.1599999999999" y="1701" width="50" height="42" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-204" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Cache_Redis_Product.svg;" parent="1" vertex="1">
          <mxGeometry x="1026.18" y="1987" width="50" height="42" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-385" value="VER UN PERFIL&lt;div&gt;1. Auth&lt;/div&gt;&lt;div&gt;2. get a /images/all/{username}&lt;/div&gt;&lt;div&gt;3. se buscan las imagenes de top/**/{username} y de daily/**{username},&amp;nbsp;&lt;/div&gt;&lt;div&gt;luego&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;se escriben en cache&lt;/span&gt;&lt;/div&gt;&lt;div&gt;3.1. si no tiene ninguna imagen se retorna que el usuario no tiene contenido&amp;nbsp;&lt;/div&gt;&lt;div&gt;o no existe&lt;/div&gt;&lt;div&gt;4. si tiene daily hace get a &quot;Votes&quot; con el username para obtener los votos,&lt;/div&gt;&lt;div&gt;ya que de las imagenes top se obtienen los votos del prefijo&lt;/div&gt;&lt;div&gt;4.1. &quot;Votes&quot; busca el voto y en cache y si no esta lo busca en&amp;nbsp;&lt;/div&gt;&lt;div&gt;la BDD, luego lo escribe en el cache y lo devuelve a &quot;Images&quot;&lt;/div&gt;&lt;div&gt;5. &quot;Images&quot; retorna la imagen y su cantidad de votos&amp;nbsp;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2150" y="1415" width="430" height="190" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-386" value="VER FOTO del FEED RANDOM&lt;div&gt;1. Auth&lt;/div&gt;&lt;div&gt;2. get a /images/random&lt;/div&gt;&lt;div&gt;3. se seleccionan 10 imagenes random del S3&lt;/div&gt;&lt;div&gt;4. get a &quot;Votes&quot; con el los username de las imagenes para&amp;nbsp;&lt;/div&gt;&lt;div&gt;obtener los votos&lt;/div&gt;&lt;div&gt;4.1. &quot;Votes&quot; busca los votos y en cache y si no estan los busca en&amp;nbsp;&lt;/div&gt;&lt;div&gt;la BDD, luego los escribe en el cache y lo devuelve a &quot;Images&quot;&lt;/div&gt;&lt;div&gt;5. &quot;Images&quot; retorna las imagens y su cantidad de votos&amp;nbsp;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2150" y="1610" width="380" height="140" as="geometry" />
        </mxCell>
        <mxCell id="YyMMzRwWE6KUuYZapjVW-211" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-406" target="YyMMzRwWE6KUuYZapjVW-210" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-406" value="" style="points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;perimeter=rectanglePerimeter;gradientColor=none;fillStyle=auto;labelPadding=0;" parent="1" vertex="1">
          <mxGeometry x="1018.38" y="2100.38" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="YyMMzRwWE6KUuYZapjVW-100" value="&lt;b&gt;Tabla Votes&lt;/b&gt;&lt;div&gt;(indexed by image_id)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;user_id&lt;/div&gt;&lt;div&gt;image_id&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1316.3199999999997" y="1952.0000000000002" width="140" height="90" as="geometry" />
        </mxCell>
        <mxCell id="YyMMzRwWE6KUuYZapjVW-205" value="&lt;b&gt;Tabla voteCount&lt;/b&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;id&lt;/span&gt;&lt;/div&gt;&lt;div&gt;image_id&lt;/div&gt;&lt;div&gt;date&lt;/div&gt;&lt;div&gt;TotalVotes&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1325.9999999999998" y="2042.7000000000003" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="YyMMzRwWE6KUuYZapjVW-210" value="QueueConsumer" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=1;fontSize=12;labelPosition=center;verticalLabelPosition=middle;align=center;" parent="1" vertex="1">
          <mxGeometry x="1193.5300000000007" y="2090.38" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="YyMMzRwWE6KUuYZapjVW-212" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.487;entryY=1.025;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="YyMMzRwWE6KUuYZapjVW-210" target="07_yBgt8VmV_d8LY8eXb-193" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YyMMzRwWE6KUuYZapjVW-216" value="&lt;b&gt;Tabla usuarios:&lt;/b&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;id&lt;/div&gt;&lt;div&gt;google_id&lt;/div&gt;&lt;div&gt;email&lt;/div&gt;&lt;div&gt;nombre&lt;/div&gt;&lt;div&gt;foto de perfil&lt;/div&gt;&lt;div&gt;created at&lt;br&gt;&lt;div&gt;totalVotes&lt;/div&gt;&lt;/div&gt;&lt;div&gt;changed_username&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1310" y="2362.27" width="130" height="160" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-7" value="&lt;b&gt;Images&lt;/b&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;id&lt;/div&gt;&lt;div&gt;user_id&lt;/div&gt;&lt;div&gt;path&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;date&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;status (processing) - (banned) - (approved)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1213.61" y="1680" width="250" height="110" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-9" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0.012;entryY=0.571;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-219" target="07_yBgt8VmV_d8LY8eXb-201" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-10" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/databases/Azure_Database_PostgreSQL_Server.svg;" parent="1" vertex="1">
          <mxGeometry x="1229.78" y="1697" width="37.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-12" value="ImagesDB" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1210" y="1743" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.506;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="07_yBgt8VmV_d8LY8eXb-211" target="98j4bOGvcd0N3YnuUDQp-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-19" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Docker.svg;clipPath=inset(0% 0% 28.57% 0%);" parent="1" vertex="1">
          <mxGeometry x="1267.5" y="2137.7" width="37.8" height="22.679999999999996" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-20" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;1&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=default;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1010.6" y="2378.5000000000005" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-237" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Cache_Redis_Product.svg;" parent="1" vertex="1">
          <mxGeometry x="1026.1599999999999" y="2404.73" width="50" height="42" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-21" value="&lt;b&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;2&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=default;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="896.62" y="2130" width="30" height="40" as="geometry" />
        </mxCell>
        <mxCell id="07_yBgt8VmV_d8LY8eXb-225" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Cache_Redis_Product.svg;" parent="1" vertex="1">
          <mxGeometry x="910.0000000000001" y="2158.77" width="50" height="42" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-27" value="????? checkear" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1445" y="1210" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-43" value="&lt;b&gt;Tabla DailyTop&lt;/b&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;id&lt;/div&gt;&lt;div&gt;image_id&lt;/div&gt;&lt;div&gt;date (indexed)&lt;/div&gt;&lt;div&gt;totalVotes&lt;/div&gt;&lt;div&gt;place&lt;/div&gt;&lt;div&gt;user_id (indexed)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1999.9999999999998" width="120" height="130" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-51" value="" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=#006EAF;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#1ba1e2;shape=mxgraph.mscae.enterprise.workstation_client;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="2710" y="2098.82" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-52" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="98j4bOGvcd0N3YnuUDQp-62" target="98j4bOGvcd0N3YnuUDQp-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="98j4bOGvcd0N3YnuUDQp-51" target="98j4bOGvcd0N3YnuUDQp-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-54" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=classic;endFill=1;" parent="1" source="98j4bOGvcd0N3YnuUDQp-59" target="98j4bOGvcd0N3YnuUDQp-57" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3275.092727272727" y="2085.82" as="sourcePoint" />
            <mxPoint x="3274.94" y="2115.82" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-55" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="98j4bOGvcd0N3YnuUDQp-62" target="98j4bOGvcd0N3YnuUDQp-59" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3180" y="2049.8199999999997" as="targetPoint" />
            <mxPoint x="2800" y="2204.82" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="1" source="98j4bOGvcd0N3YnuUDQp-57" target="98j4bOGvcd0N3YnuUDQp-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-57" value="Votes" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=1;fontSize=12;labelPosition=center;verticalLabelPosition=middle;align=center;" parent="1" vertex="1">
          <mxGeometry x="3220" y="2104.82" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;startArrow=classic;startFill=1;curved=1;endArrow=none;endFill=0;" parent="1" source="98j4bOGvcd0N3YnuUDQp-59" target="98j4bOGvcd0N3YnuUDQp-60" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3247.7200000000003" y="2074.8199999999997" />
              <mxPoint x="3247.7200000000003" y="2074.8199999999997" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-59" value="Images" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=1;fontSize=12;labelPosition=center;verticalLabelPosition=middle;align=center;" parent="1" vertex="1">
          <mxGeometry x="3220" y="1779.82" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-60" value="Users" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;horizontal=1;fontSize=12;labelPosition=center;verticalLabelPosition=middle;align=center;" parent="1" vertex="1">
          <mxGeometry x="3220" y="2479.82" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-61" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.855;exitY=0.855;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="98j4bOGvcd0N3YnuUDQp-62" target="98j4bOGvcd0N3YnuUDQp-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-62" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.customer_gateway;fillColor=#F58536;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="2884.46" y="2102.82" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-63" value="GET votes/{image_id}&lt;div&gt;GET votes/top/{date}&lt;br&gt;&lt;div&gt;GET votes/10_random&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-align: center;&quot;&gt;GET votes/all_time_tops_by_user/{user_id}&lt;/span&gt;&lt;span style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;POST votes/new_image/{image_id}&amp;amp;{user_id}&lt;/div&gt;&lt;div&gt;DELTE votes/{image_id}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="3281.25" y="1849.82" width="270" height="110" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-64" value="GET users/has_timeout/{user_id}&lt;div&gt;PUT users/new_vote/{user_id}&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="3280" y="2192.52" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-65" value="GET votes/all/{user_id}&lt;div&gt;&lt;span style=&quot;text-align: center;&quot;&gt;GET votes/top/all_time/{user_id}&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="3279.7799999999997" y="2419.82" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-66" value="GET images/all/{user_id}&lt;div&gt;&lt;div&gt;DELETE images/delete_From_User/{user_id}&lt;/div&gt;&lt;div&gt;(deletes the non-top images)&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=right;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2971.1" y="2172.52" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-67" value="POST votes/vote/{image_id}" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="3039.7200000000003" y="2113.48" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-68" value="GET users/byUsername/{username}&lt;div&gt;GET users/byId/{user_id}&lt;br&gt;&lt;div&gt;POST users/new_user&lt;br&gt;&lt;div&gt;DELETE users/delete&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;rotation=50;" parent="1" vertex="1">
          <mxGeometry x="2946.1000000000004" y="2309.82" width="220" height="70" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fillColor=#647687;strokeColor=#314354;" parent="1" source="98j4bOGvcd0N3YnuUDQp-74" target="98j4bOGvcd0N3YnuUDQp-71" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3275.5903448275863" y="2223.9200000000005" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-71" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://i.pinimg.com/736x/24/37/73/2437730f7e3a5705e205e67fa2cd1020.jpg;clipPath=inset(0% 15.33% 0% 15.33% round 49%);" parent="1" vertex="1">
          <mxGeometry x="2927.11" y="1589.82" width="65.78" height="66.1" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-72" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;strokeWidth=3;edgeStyle=orthogonalEdgeStyle;fillColor=#647687;strokeColor=#314354;" parent="1" source="98j4bOGvcd0N3YnuUDQp-74" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3220" y="1818.9200000000003" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-74" value="AWS Lambda" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#ffffff;fillColor=#232F3E;dashed=0;verticalLabelPosition=middle;verticalAlign=bottom;align=center;html=1;whiteSpace=wrap;fontSize=10;fontStyle=1;spacing=3;shape=mxgraph.aws4.productIcon;prIcon=mxgraph.aws4.lambda;" parent="1" vertex="1">
          <mxGeometry x="2920" y="1769.82" width="80" height="100" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-75" value="&lt;div&gt;POST votes/top/{date}/{top10_images_id}&lt;/div&gt;" style="text;html=1;align=right;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2750" y="1869.82" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-76" value="&lt;span style=&quot;text-align: right;&quot;&gt;GET images/top/{date}&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;text-align: right;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="3000" y="1794.82" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-77" value="POST /{ig-user-id}/media" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2953.46" y="1689.82" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-78" value="ENDPOINTS" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2670" y="2680" width="990" height="1095" as="geometry" />
        </mxCell>
        <mxCell id="98j4bOGvcd0N3YnuUDQp-69" value="&lt;div&gt;GET images/{image_id}&lt;br&gt;&lt;/div&gt;GET images/random_feed&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;DELETE images/{image_id}&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;rotation=0;" parent="1" vertex="1">
          <mxGeometry x="2869.7200000000003" y="1981" width="170" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
